<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="../../css/tnnCss/new-member.css">
		<link rel="stylesheet" href="../../css/reset.css">
		<link rel="stylesheet" type="text/css" href="../../css/tnnCss/select-box.css" />
		<script src="../../js/jquery.js"></script>
		<script src="../../js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="../../css/bootstrap.min.css">
		<title>Document</title>
	</head>

	<body>
		<div class="top-box" style="z-index: 999999;"></div>
		<div class="new-member container">
			<h1>新会员注册</h1>
			<div class="member-box">
				<div class="member-left-box">
					<h3>免费成为华尔街英语会员</h3>
					<p class="must-text">*必填</p>
					<form action="" method="post">
						<div class="wrap-name">
							<label for=""><span>真实姓名*</span></label>
							<div class="warp-name-box">
								<div class="inp-text">
									<input type="text" placeholder="姓氏">
								</div>
								<div class="inp-text">
									<input type="text" placeholder="姓名">
								</div>
							</div>
						</div>
						<div class="wrap-name">
							<label for=""><span>手机号码*</span></label>
							<div class="warp-name-box ">
								<div class="inp-tel">
									<input type="text" placeholder="姓氏">
								</div>
							</div>
						</div>
						<div class="wrap-name">
							<label for=""><span></span></label>
							<div class="warp-name-box ">
								<div class="inp-code">
									获取短信验证码
								</div>
							</div>
						</div>
						<div class="wrap-name">
							<label for=""><span>验证码*</span></label>
							<div class="warp-name-box ">
								<div class="inp-tel">
									<input type="text" placeholder="验证码">
								</div>
							</div>
						</div>
						<div class="wrap-name">
							<label for=""><span>电子邮件地址*</span></label>
							<div class="warp-name-box ">
								<div class="inp-tel">
									<input type="text" placeholder="电子邮件地址">
								</div>
							</div>
						</div>
						<div class="wrap-name">
							<label for=""><span>密码*</span></label>
							<div class="warp-name-box ">
								<div class="inp-tel">
									<input type="text" placeholder="密码">
								</div>
							</div>
						</div>
						<div class="wrap-name">
							<label for=""><span></span></label>
							<div class="warp-name-box ">
								密码必须包含8个字符
							</div>
						</div>
						<div class="wrap-name">
							<label for=""><span>确认密码*</span></label>
							<div class="warp-name-box ">
								<div class="inp-tel">
									<input type="text" placeholder="确认密码">
								</div>
							</div>
						</div>
						<div>
							<div class="wrap-name wrap-city form_data">
								<label for=""><span>省份*</span></label>
								<div class="chosen-container previous">
									<div class="chosen-single">
										<span>
											<i>- 请选择省份 -</i>
										</span>
										<b></b>
									</div>
								</div>
								<!-- <div class="warp-name-box ">
								<div class="inp-tel">
									<select name="">
										<option value="">请选择</option>
										<option value="">北京市</option>
										<option value="">上海市</option>
										<option value="">河北省</option>
									</select>
									<input type="text" placeholder="确认密码">
								</div>
							</div> -->
							</div>
							<div class="wrap-name wrap-city form_data">
								<label for=""><span>所在城市*</span></label>
								<div class="chosen-container city">
									<div class="chosen-single">
										<span>
											<i>- 请选择城市 -</i>
										</span>
										<b></b>
									</div>
								</div>
						</div>
							<!-- <div class="warp-name-box ">
							<div class="inp-tel">
								<select name="">
									<option value="">请选择</option>
									<option value="">北京市</option>
									<option value="">上海市</option>
									<option value="">河北省</option>
								</select>
							</div>
						</div> -->
						</div>
						<div class="wrap-name wrap-check-box">
							<div class="check-box"></div>
							<p>我已阅读并同意<a href="">使用条款和隐私协议</a></p>
							<!-- <input type="checkbox"> -->
						</div>
					</form>
					<div class="endImp"></div>
					<div class="btnBox">
						<div class="regImg"></div>
						<p>注册</p>
					</div>
				</div>
				<div class="member-right-box">
					<h3>注册会员的专享权利：</h3>
					<div class="member-checkImg-box">
						<img src="../../img/tnnImg/check.png">
						<p>咨询课程价格</p>
					</div>
					<div class="member-checkImg-box">
						<img src="../../img/tnnImg/check.png">
						<p style='font-weight: bold;'>查看你的英语测试结果马上测试.</p>
					</div>
					<div class="member-checkImg-box">
						<img src="../../img/tnnImg/check.png">
						<p>查看你的购买记录</p>
					</div>
					<div class="member-checkImg-box">
						<img src="../../img/tnnImg/check.png">
						<p>获取报价和最新消息</p>
					</div>
				</div>
			</div>
		</div>
		<div class="footer" style='margin-top: 220px'></div>
	</body>
	<script type="text/javascript" src='../../js/jquery.min.js'></script>
	<script type="text/javascript" src="../../js/tnnData/select-box.js"></script>
	<script>
		$('.top-box').load('../config/header.html');
		$('.footer').load('../config/footer.html');
		let previous = [{
			"code": "CN-31",
			"name": "上海市"
		}, {
			"code": "CN-44",
			"name": "广东省"
		}, {
			"code": "CN-11",
			"name": "北京市"
		}, {
			"code": "CN-32",
			"name": "江苏省"
		}, {
			"code": "CN-12",
			"name": "天津市"
		}, {
			"code": "CN-33",
			"name": "浙江省"
		}, {
			"code": "CN-37",
			"name": "山东省"
		}, {
			"code": "CN-34",
			"name": "安徽省"
		}, {
			"code": "CN-50",
			"name": "重庆市"
		}, {
			"code": "CN-35",
			"name": "福建省"
		}, {
			"code": "CN-62",
			"name": "甘肃省"
		}, {
			"code": "CN-45",
			"name": "广西壮族自治区"
		}, {
			"code": "CN-52",
			"name": "贵州省"
		}, {
			"code": "CN-46",
			"name": "海南省"
		}, {
			"code": "CN-13",
			"name": "河北省"
		}, {
			"code": "CN-23",
			"name": "黑龙江省"
		}, {
			"code": "CN-41",
			"name": "河南省"
		}, {
			"code": "CN-42",
			"name": "湖北省"
		}, {
			"code": "CN-43",
			"name": "湖南省"
		}, {
			"code": "CN-36",
			"name": "江西省"
		}, {
			"code": "CN-22",
			"name": "吉林省"
		}, {
			"code": "CN-21",
			"name": "辽宁省"
		}, {
			"code": "CN-15",
			"name": "内蒙古自治区"
		}, {
			"code": "CN-64",
			"name": "宁夏回族自治区"
		}, {
			"code": "CN-63",
			"name": "青海省"
		}, {
			"code": "CN-61",
			"name": "陕西省"
		}, {
			"code": "CN-14",
			"name": "山西省"
		}, {
			"code": "CN-51",
			"name": "四川省"
		}, {
			"code": "CN-65",
			"name": "新疆维吾尔自治区"
		}, {
			"code": "CN-54",
			"name": "西藏自治区"
		}, {
			"code": "CN-53",
			"name": "云南省"
		}]
		$(".chosen-container.previous").selectBox(previous, 0)
		$(".chosen-container .chosen-single").click(function(e) {
			e.stopPropagation();
			if ($(this).parent().hasClass("active")) {
				$(this).parent().removeClass("active")
				return;
			}
			let index = $(this).parents(".form_data").index()
			$(".chosen-container").removeClass("active").eq(index).toggleClass("active")
		})
		$(".chosen-container.previous .mCSB_container").click(async (e) => {
			$(".chosen-container.city").find(".chosen-drop").remove();
			$(".chosen-container.city .chosen-single i").text("-请选择城市-")
			let key = $(e.target).attr("code");
			cityData = await getData("http://localhost:3000/region/" + key)
		})

		$(".chosen-container.city .chosen-single").on("click", function() {
			if ($(this).parent().has("active")) {
				$(this).parent().find(".chosen-drop").remove();
			}
			$(this).parent().selectBox(cityData, 1)
		})

		function getData(url) {
			return new Promise((reslove, reject) => {
				$.ajax({
					url,
					method: "get",
					dataType: "JSON",
					success: (res) => {
						reslove(res)
					},
					fail() {
						reject([])
					}
				})
			})
		}
	</script>
</html>
